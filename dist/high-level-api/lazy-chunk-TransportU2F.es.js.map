{"version":3,"file":"lazy-chunk-TransportU2F.es.js","sources":["source-mapped://source-mapped/node_modules/u2f-api/lib/google-u2f-api.js","source-mapped://source-mapped/node_modules/u2f-api/lib/u2f-api.js","source-mapped://source-mapped/node_modules/u2f-api/index.js","source-mapped://source-mapped/node_modules/@ledgerhq/hw-transport-u2f/node_modules/events/events.js","source-mapped://source-mapped/node_modules/@ledgerhq/hw-transport-u2f/node_modules/@ledgerhq/errors/dist/index.js","source-mapped://source-mapped/node_modules/@ledgerhq/hw-transport-u2f/node_modules/@ledgerhq/hw-transport/src/Transport.js","source-mapped://source-mapped/node_modules/@ledgerhq/hw-transport-u2f/node_modules/@ledgerhq/logs/src/index.js","source-mapped://source-mapped/node_modules/@ledgerhq/hw-transport-u2f/src/TransportU2F.js"],"sourcesContent":["// Copyright 2014 Google Inc. All rights reserved\n//\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file or at\n// https://developers.google.com/open-source/licenses/bsd\n\n/**\n * @fileoverview The U2F api.\n */\n\n'use strict';\n\n/** Namespace for the U2F api.\n * @type {Object}\n */\nvar u2f = u2f || {};\n\nmodule.exports = u2f; // Adaptation for u2f-api package\n\n/**\n * The U2F extension id\n * @type {string}\n * @const\n */\nu2f.EXTENSION_ID = 'kmendfapggjehodndflmmgagdbamhnfd';\n\n/**\n * Message types for messsages to/from the extension\n * @const\n * @enum {string}\n */\nu2f.MessageTypes = {\n  'U2F_REGISTER_REQUEST': 'u2f_register_request',\n  'U2F_SIGN_REQUEST': 'u2f_sign_request',\n  'U2F_REGISTER_RESPONSE': 'u2f_register_response',\n  'U2F_SIGN_RESPONSE': 'u2f_sign_response'\n};\n\n/**\n * Response status codes\n * @const\n * @enum {number}\n */\nu2f.ErrorCodes = {\n  'OK': 0,\n  'OTHER_ERROR': 1,\n  'BAD_REQUEST': 2,\n  'CONFIGURATION_UNSUPPORTED': 3,\n  'DEVICE_INELIGIBLE': 4,\n  'TIMEOUT': 5\n};\n\n/**\n * A message type for registration requests\n * @typedef {{\n *   type: u2f.MessageTypes,\n *   signRequests: Array.<u2f.SignRequest>,\n *   registerRequests: ?Array.<u2f.RegisterRequest>,\n *   timeoutSeconds: ?number,\n *   requestId: ?number\n * }}\n */\nu2f.Request;\n\n/**\n * A message for registration responses\n * @typedef {{\n *   type: u2f.MessageTypes,\n *   responseData: (u2f.Error | u2f.RegisterResponse | u2f.SignResponse),\n *   requestId: ?number\n * }}\n */\nu2f.Response;\n\n/**\n * An error object for responses\n * @typedef {{\n *   errorCode: u2f.ErrorCodes,\n *   errorMessage: ?string\n * }}\n */\nu2f.Error;\n\n/**\n * Data object for a single sign request.\n * @typedef {{\n *   version: string,\n *   challenge: string,\n *   keyHandle: string,\n *   appId: string\n * }}\n */\nu2f.SignRequest;\n\n/**\n * Data object for a sign response.\n * @typedef {{\n *   keyHandle: string,\n *   signatureData: string,\n *   clientData: string\n * }}\n */\nu2f.SignResponse;\n\n/**\n * Data object for a registration request.\n * @typedef {{\n *   version: string,\n *   challenge: string,\n *   appId: string\n * }}\n */\nu2f.RegisterRequest;\n\n/**\n * Data object for a registration response.\n * @typedef {{\n *   registrationData: string,\n *   clientData: string\n * }}\n */\nu2f.RegisterResponse;\n\n\n// Low level MessagePort API support\n\n/**\n * Call MessagePort disconnect\n */\nu2f.disconnect = function() {\n  if (u2f.port_ && u2f.port_.port_) {\n    u2f.port_.port_.disconnect();\n    u2f.port_ = null;\n  }\n};\n\n/**\n * Sets up a MessagePort to the U2F extension using the\n * available mechanisms.\n * @param {function((MessagePort|u2f.WrappedChromeRuntimePort_))} callback\n */\nu2f.getMessagePort = function(callback) {\n  if (typeof chrome != 'undefined' && chrome.runtime) {\n    // The actual message here does not matter, but we need to get a reply\n    // for the callback to run. Thus, send an empty signature request\n    // in order to get a failure response.\n    var msg = {\n      type: u2f.MessageTypes.U2F_SIGN_REQUEST,\n      signRequests: []\n    };\n    chrome.runtime.sendMessage(u2f.EXTENSION_ID, msg, function() {\n      if (!chrome.runtime.lastError) {\n        // We are on a whitelisted origin and can talk directly\n        // with the extension.\n        u2f.getChromeRuntimePort_(callback);\n      } else {\n        // chrome.runtime was available, but we couldn't message\n        // the extension directly, use iframe\n        u2f.getIframePort_(callback);\n      }\n    });\n  } else {\n    // chrome.runtime was not available at all, which is normal\n    // when this origin doesn't have access to any extensions.\n    u2f.getIframePort_(callback);\n  }\n};\n\n/**\n * Connects directly to the extension via chrome.runtime.connect\n * @param {function(u2f.WrappedChromeRuntimePort_)} callback\n * @private\n */\nu2f.getChromeRuntimePort_ = function(callback) {\n  var port = chrome.runtime.connect(u2f.EXTENSION_ID,\n    {'includeTlsChannelId': true});\n  setTimeout(function() {\n    callback(null, new u2f.WrappedChromeRuntimePort_(port));\n  }, 0);\n};\n\n/**\n * A wrapper for chrome.runtime.Port that is compatible with MessagePort.\n * @param {Port} port\n * @constructor\n * @private\n */\nu2f.WrappedChromeRuntimePort_ = function(port) {\n  this.port_ = port;\n};\n\n/**\n * Posts a message on the underlying channel.\n * @param {Object} message\n */\nu2f.WrappedChromeRuntimePort_.prototype.postMessage = function(message) {\n  this.port_.postMessage(message);\n};\n\n/**\n * Emulates the HTML 5 addEventListener interface. Works only for the\n * onmessage event, which is hooked up to the chrome.runtime.Port.onMessage.\n * @param {string} eventName\n * @param {function({data: Object})} handler\n */\nu2f.WrappedChromeRuntimePort_.prototype.addEventListener =\n    function(eventName, handler) {\n  var name = eventName.toLowerCase();\n  if (name == 'message' || name == 'onmessage') {\n    this.port_.onMessage.addListener(function(message) {\n      // Emulate a minimal MessageEvent object\n      handler({'data': message});\n    });\n  } else {\n    console.error('WrappedChromeRuntimePort only supports onMessage');\n  }\n};\n\n/**\n * Sets up an embedded trampoline iframe, sourced from the extension.\n * @param {function(MessagePort)} callback\n * @private\n */\nu2f.getIframePort_ = function(callback) {\n  // Create the iframe\n  var iframeOrigin = 'chrome-extension://' + u2f.EXTENSION_ID;\n  var iframe = document.createElement('iframe');\n  iframe.src = iframeOrigin + '/u2f-comms.html';\n  iframe.setAttribute('style', 'display:none');\n  document.body.appendChild(iframe);\n\n  var hasCalledBack = false;\n\n  var channel = new MessageChannel();\n  var ready = function(message) {\n    if (message.data == 'ready') {\n      channel.port1.removeEventListener('message', ready);\n      if (!hasCalledBack)\n      {\n        hasCalledBack = true;\n        callback(null, channel.port1);\n      }\n    } else {\n      console.error('First event on iframe port was not \"ready\"');\n    }\n  };\n  channel.port1.addEventListener('message', ready);\n  channel.port1.start();\n\n  iframe.addEventListener('load', function() {\n    // Deliver the port to the iframe and initialize\n    iframe.contentWindow.postMessage('init', iframeOrigin, [channel.port2]);\n  });\n\n  // Give this 200ms to initialize, after that, we treat this method as failed\n  setTimeout(function() {\n    if (!hasCalledBack)\n    {\n      hasCalledBack = true;\n      callback(new Error(\"IFrame extension not supported\"));\n    }\n  }, 200);\n};\n\n\n// High-level JS API\n\n/**\n * Default extension response timeout in seconds.\n * @const\n */\nu2f.EXTENSION_TIMEOUT_SEC = 30;\n\n/**\n * A singleton instance for a MessagePort to the extension.\n * @type {MessagePort|u2f.WrappedChromeRuntimePort_}\n * @private\n */\nu2f.port_ = null;\n\n/**\n * Callbacks waiting for a port\n * @type {Array.<function((MessagePort|u2f.WrappedChromeRuntimePort_))>}\n * @private\n */\nu2f.waitingForPort_ = [];\n\n/**\n * A counter for requestIds.\n * @type {number}\n * @private\n */\nu2f.reqCounter_ = 0;\n\n/**\n * A map from requestIds to client callbacks\n * @type {Object.<number,(function((u2f.Error|u2f.RegisterResponse))\n *                       |function((u2f.Error|u2f.SignResponse)))>}\n * @private\n */\nu2f.callbackMap_ = {};\n\n/**\n * Creates or retrieves the MessagePort singleton to use.\n * @param {function((MessagePort|u2f.WrappedChromeRuntimePort_))} callback\n * @private\n */\nu2f.getPortSingleton_ = function(callback) {\n  if (u2f.port_) {\n    callback(null, u2f.port_);\n  } else {\n    if (u2f.waitingForPort_.length == 0) {\n      u2f.getMessagePort(function(err, port) {\n        if (!err) {\n          u2f.port_ = port;\n          u2f.port_.addEventListener('message',\n            /** @type {function(Event)} */ (u2f.responseHandler_));\n        }\n\n        // Careful, here be async callbacks. Maybe.\n        while (u2f.waitingForPort_.length)\n          u2f.waitingForPort_.shift()(err, port);\n      });\n    }\n    u2f.waitingForPort_.push(callback);\n  }\n};\n\n/**\n * Handles response messages from the extension.\n * @param {MessageEvent.<u2f.Response>} message\n * @private\n */\nu2f.responseHandler_ = function(message) {\n  var response = message.data;\n  var reqId = response['requestId'];\n  if (!reqId || !u2f.callbackMap_[reqId]) {\n    console.error('Unknown or missing requestId in response.');\n    return;\n  }\n  var cb = u2f.callbackMap_[reqId];\n  delete u2f.callbackMap_[reqId];\n  cb(null, response['responseData']);\n};\n\n/**\n * Calls the callback with true or false as first and only argument\n * @param {Function} callback\n */\nu2f.isSupported = function(callback) {\n  u2f.getPortSingleton_(function(err, port) {\n    callback(!err);\n  });\n}\n\n/**\n * Dispatches an array of sign requests to available U2F tokens.\n * @param {Array.<u2f.SignRequest>} signRequests\n * @param {function((u2f.Error|u2f.SignResponse))} callback\n * @param {number=} opt_timeoutSeconds\n */\nu2f.sign = function(signRequests, callback, opt_timeoutSeconds) {\n  u2f.getPortSingleton_(function(err, port) {\n    if (err)\n      return callback(err);\n\n    var reqId = ++u2f.reqCounter_;\n    u2f.callbackMap_[reqId] = callback;\n    var req = {\n      type: u2f.MessageTypes.U2F_SIGN_REQUEST,\n      signRequests: signRequests,\n      timeoutSeconds: (typeof opt_timeoutSeconds !== 'undefined' ?\n        opt_timeoutSeconds : u2f.EXTENSION_TIMEOUT_SEC),\n      requestId: reqId\n    };\n    port.postMessage(req);\n  });\n};\n\n/**\n * Dispatches register requests to available U2F tokens. An array of sign\n * requests identifies already registered tokens.\n * @param {Array.<u2f.RegisterRequest>} registerRequests\n * @param {Array.<u2f.SignRequest>} signRequests\n * @param {function((u2f.Error|u2f.RegisterResponse))} callback\n * @param {number=} opt_timeoutSeconds\n */\nu2f.register = function(registerRequests, signRequests,\n    callback, opt_timeoutSeconds) {\n  u2f.getPortSingleton_(function(err, port) {\n    if (err)\n      return callback(err);\n\n    var reqId = ++u2f.reqCounter_;\n    u2f.callbackMap_[reqId] = callback;\n    var req = {\n      type: u2f.MessageTypes.U2F_REGISTER_REQUEST,\n      signRequests: signRequests,\n      registerRequests: registerRequests,\n      timeoutSeconds: (typeof opt_timeoutSeconds !== 'undefined' ?\n        opt_timeoutSeconds : u2f.EXTENSION_TIMEOUT_SEC),\n      requestId: reqId\n    };\n    port.postMessage(req);\n  });\n};\n","'use strict';\n\nmodule.exports = API;\n\nvar chromeApi = require( './google-u2f-api' );\n\n// Feature detection (yes really)\nvar isBrowser = ( typeof navigator !== 'undefined' ) && !!navigator.userAgent;\nvar isSafari = isBrowser && navigator.userAgent.match( /Safari\\// )\n\t&& !navigator.userAgent.match( /Chrome\\// );\nvar isEDGE = isBrowser && navigator.userAgent.match( /Edge\\/1[2345]/ );\n\nvar _backend = null;\nfunction getBackend( Promise )\n{\n\tif ( !_backend )\n\t\t_backend = new Promise( function( resolve, reject )\n\t\t{\n\t\t\tfunction notSupported( )\n\t\t\t{\n\t\t\t\t// Note; {native: true} means *not* using Google's hack\n\t\t\t\tresolve( { u2f: null, native: true } );\n\t\t\t}\n\n\t\t\tif ( !isBrowser )\n\t\t\t\treturn notSupported( );\n\n\t\t\tif ( isSafari )\n\t\t\t\t// Safari doesn't support U2F, and the Safari-FIDO-U2F\n\t\t\t\t// extension lacks full support (Multi-facet apps), so we\n\t\t\t\t// block it until proper support.\n\t\t\t\treturn notSupported( );\n\n\t\t\tvar hasNativeSupport =\n\t\t\t\t( typeof window.u2f !== 'undefined' ) &&\n\t\t\t\t( typeof window.u2f.sign === 'function' );\n\n\t\t\tif ( hasNativeSupport )\n\t\t\t\tresolve( { u2f: window.u2f, native: true } );\n\n\t\t\tif ( isEDGE )\n\t\t\t\t// We don't want to check for Google's extension hack on EDGE\n\t\t\t\t// as it'll cause trouble (popups, etc)\n\t\t\t\treturn notSupported( );\n\n\t\t\tif ( location.protocol === 'http:' )\n\t\t\t\t// U2F isn't supported over http, only https\n\t\t\t\treturn notSupported( );\n\n\t\t\tif ( typeof MessageChannel === 'undefined' )\n\t\t\t\t// Unsupported browser, the chrome hack would throw\n\t\t\t\treturn notSupported( );\n\n\t\t\t// Test for google extension support\n\t\t\tchromeApi.isSupported( function( ok )\n\t\t\t{\n\t\t\t\tif ( ok )\n\t\t\t\t\tresolve( { u2f: chromeApi, native: false } );\n\t\t\t\telse\n\t\t\t\t\tnotSupported( );\n\t\t\t} );\n\t\t} );\n\n\treturn _backend;\n}\n\nfunction API( Promise )\n{\n\treturn {\n\t\tisSupported   : isSupported.bind( Promise ),\n\t\tensureSupport : ensureSupport.bind( Promise ),\n\t\tregister      : register.bind( Promise ),\n\t\tsign          : sign.bind( Promise ),\n\t\tErrorCodes    : API.ErrorCodes,\n\t\tErrorNames    : API.ErrorNames\n\t};\n}\n\nAPI.ErrorCodes = {\n\tCANCELLED: -1,\n\tOK: 0,\n\tOTHER_ERROR: 1,\n\tBAD_REQUEST: 2,\n\tCONFIGURATION_UNSUPPORTED: 3,\n\tDEVICE_INELIGIBLE: 4,\n\tTIMEOUT: 5\n};\nAPI.ErrorNames = {\n\t\"-1\": \"CANCELLED\",\n\t\"0\": \"OK\",\n\t\"1\": \"OTHER_ERROR\",\n\t\"2\": \"BAD_REQUEST\",\n\t\"3\": \"CONFIGURATION_UNSUPPORTED\",\n\t\"4\": \"DEVICE_INELIGIBLE\",\n\t\"5\": \"TIMEOUT\"\n};\n\nfunction makeError( msg, err )\n{\n\tvar code = err != null ? err.errorCode : 1; // Default to OTHER_ERROR\n\tvar type = API.ErrorNames[ '' + code ];\n\tvar error = new Error( msg );\n\terror.metaData = {\n\t\ttype: type,\n\t\tcode: code\n\t}\n\treturn error;\n}\n\nfunction deferPromise( Promise, promise )\n{\n\tvar ret = { };\n\tret.promise = new Promise( function( resolve, reject ) {\n\t\tret.resolve = resolve;\n\t\tret.reject = reject;\n\t\tpromise.then( resolve, reject );\n\t} );\n\t/**\n\t * Reject request promise and disconnect port if 'disconnect' flag is true\n\t * @param {string} msg\n\t * @param {boolean} disconnect\n\t */\n\tret.promise.cancel = function( msg, disconnect )\n\t{\n\t\tgetBackend( Promise )\n\t\t.then( function( backend )\n\t\t{\n\t\t\tif ( disconnect && !backend.native )\n\t\t\t\tbackend.u2f.disconnect( );\n\n\t\t\tret.reject( makeError( msg, { errorCode: -1 } ) );\n\t\t} );\n\t};\n\treturn ret;\n}\n\nfunction defer( Promise, fun )\n{\n\treturn deferPromise( Promise, new Promise( function( resolve, reject )\n\t{\n\t\ttry\n\t\t{\n\t\t\tfun && fun( resolve, reject );\n\t\t}\n\t\tcatch ( err )\n\t\t{\n\t\t\treject( err );\n\t\t}\n\t} ) );\n}\n\nfunction isSupported( )\n{\n\tvar Promise = this;\n\n\treturn getBackend( Promise )\n\t.then( function( backend )\n\t{\n\t\treturn !!backend.u2f;\n\t} );\n}\n\nfunction _ensureSupport( backend )\n{\n\tif ( !backend.u2f )\n\t{\n\t\tif ( location.protocol === 'http:' )\n\t\t\tthrow new Error( \"U2F isn't supported over http, only https\" );\n\t\tthrow new Error( \"U2F not supported\" );\n\t}\n}\n\nfunction ensureSupport( )\n{\n\tvar Promise = this;\n\n\treturn getBackend( Promise )\n\t.then( _ensureSupport );\n}\n\nfunction register( registerRequests, signRequests /* = null */, timeout )\n{\n\tvar Promise = this;\n\n\tif ( !Array.isArray( registerRequests ) )\n\t\tregisterRequests = [ registerRequests ];\n\n\tif ( typeof signRequests === 'number' && typeof timeout === 'undefined' )\n\t{\n\t\ttimeout = signRequests;\n\t\tsignRequests = null;\n\t}\n\n\tif ( !signRequests )\n\t\tsignRequests = [ ];\n\n\treturn deferPromise( Promise, getBackend( Promise )\n\t.then( function( backend )\n\t{\n\t\t_ensureSupport( backend );\n\n\t\tvar native = backend.native;\n\t\tvar u2f = backend.u2f;\n\n\t\treturn new Promise( function( resolve, reject )\n\t\t{\n\t\t\tfunction cbNative( response )\n\t\t\t{\n\t\t\t\tif ( response.errorCode )\n\t\t\t\t\treject( makeError( \"Registration failed\", response ) );\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tdelete response.errorCode;\n\t\t\t\t\tresolve( response );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction cbChrome( err, response )\n\t\t\t{\n\t\t\t\tif ( err )\n\t\t\t\t\treject( err );\n\t\t\t\telse if ( response.errorCode )\n\t\t\t\t\treject( makeError( \"Registration failed\", response ) );\n\t\t\t\telse\n\t\t\t\t\tresolve( response );\n\t\t\t}\n\n\t\t\tif ( native )\n\t\t\t{\n\t\t\t\tvar appId = registerRequests[ 0 ].appId;\n\n\t\t\t\tu2f.register(\n\t\t\t\t\tappId, registerRequests, signRequests, cbNative, timeout );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tu2f.register(\n\t\t\t\t\tregisterRequests, signRequests, cbChrome, timeout );\n\t\t\t}\n\t\t} );\n\t} ) ).promise;\n}\n\nfunction sign( signRequests, timeout )\n{\n\tvar Promise = this;\n\n\tif ( !Array.isArray( signRequests ) )\n\t\tsignRequests = [ signRequests ];\n\n\treturn deferPromise( Promise, getBackend( Promise )\n\t.then( function( backend )\n\t{\n\t\t_ensureSupport( backend );\n\n\t\tvar native = backend.native;\n\t\tvar u2f = backend.u2f;\n\n\t\treturn new Promise( function( resolve, reject )\n\t\t{\n\t\t\tfunction cbNative( response )\n\t\t\t{\n\t\t\t\tif ( response.errorCode )\n\t\t\t\t\treject( makeError( \"Sign failed\", response ) );\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tdelete response.errorCode;\n\t\t\t\t\tresolve( response );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction cbChrome( err, response )\n\t\t\t{\n\t\t\t\tif ( err )\n\t\t\t\t\treject( err );\n\t\t\t\telse if ( response.errorCode )\n\t\t\t\t\treject( makeError( \"Sign failed\", response ) );\n\t\t\t\telse\n\t\t\t\t\tresolve( response );\n\t\t\t}\n\n\t\t\tif ( native )\n\t\t\t{\n\t\t\t\tvar appId = signRequests[ 0 ].appId;\n\t\t\t\tvar challenge = signRequests[ 0 ].challenge;\n\n\t\t\t\tu2f.sign( appId, challenge, signRequests, cbNative, timeout );\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tu2f.sign( signRequests, cbChrome, timeout );\n\t\t\t}\n\t\t} );\n\t} ) ).promise;\n}\n\nfunction makeDefault( func )\n{\n\tAPI[ func ] = function( )\n\t{\n\t\tif ( !global.Promise )\n\t\t\t// This is very unlikely to ever happen, since browsers\n\t\t\t// supporting U2F will most likely support Promises.\n\t\t\tthrow new Error( \"The platform doesn't natively support promises\" );\n\n\t\tvar args = [ ].slice.call( arguments );\n\t\treturn API( global.Promise )[ func ].apply( null, args );\n\t};\n}\n\n// Provide default functions using the built-in Promise if available.\nmakeDefault( 'isSupported' );\nmakeDefault( 'ensureSupport' );\nmakeDefault( 'register' );\nmakeDefault( 'sign' );\n","'use strict';\nmodule.exports = require( './lib/u2f-api' );","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","/* eslint-disable no-continue */\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-param-reassign */\r\n/* eslint-disable no-prototype-builtins */\r\nvar errorClasses = {};\r\nvar deserializers = {};\r\nvar addCustomErrorDeserializer = function (name, deserializer) {\r\n    deserializers[name] = deserializer;\r\n};\r\nvar createCustomErrorClass = function (name) {\r\n    var C = function CustomError(message, fields) {\r\n        Object.assign(this, fields);\r\n        this.name = name;\r\n        this.message = message || name;\r\n        this.stack = new Error().stack;\r\n    };\r\n    C.prototype = new Error();\r\n    errorClasses[name] = C;\r\n    return C;\r\n};\r\n// inspired from https://github.com/programble/errio/blob/master/index.js\r\nvar deserializeError = function (object) {\r\n    if (typeof object === \"object\" && object) {\r\n        try {\r\n            // $FlowFixMe FIXME HACK\r\n            var msg = JSON.parse(object.message);\r\n            if (msg.message && msg.name) {\r\n                object = msg;\r\n            }\r\n        }\r\n        catch (e) {\r\n            // nothing\r\n        }\r\n        var error = void 0;\r\n        if (typeof object.name === \"string\") {\r\n            var name_1 = object.name;\r\n            var des = deserializers[name_1];\r\n            if (des) {\r\n                error = des(object);\r\n            }\r\n            else {\r\n                var constructor = name_1 === \"Error\" ? Error : errorClasses[name_1];\r\n                if (!constructor) {\r\n                    console.warn(\"deserializing an unknown class '\" + name_1 + \"'\");\r\n                    constructor = createCustomErrorClass(name_1);\r\n                }\r\n                error = Object.create(constructor.prototype);\r\n                try {\r\n                    for (var prop in object) {\r\n                        if (object.hasOwnProperty(prop)) {\r\n                            error[prop] = object[prop];\r\n                        }\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // sometimes setting a property can fail (e.g. .name)\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            error = new Error(object.message);\r\n        }\r\n        if (!error.stack && Error.captureStackTrace) {\r\n            Error.captureStackTrace(error, deserializeError);\r\n        }\r\n        return error;\r\n    }\r\n    return new Error(String(object));\r\n};\r\n// inspired from https://github.com/sindresorhus/serialize-error/blob/master/index.js\r\nvar serializeError = function (value) {\r\n    if (!value)\r\n        return value;\r\n    if (typeof value === \"object\") {\r\n        return destroyCircular(value, []);\r\n    }\r\n    if (typeof value === \"function\") {\r\n        return \"[Function: \" + (value.name || \"anonymous\") + \"]\";\r\n    }\r\n    return value;\r\n};\r\n// https://www.npmjs.com/package/destroy-circular\r\nfunction destroyCircular(from, seen) {\r\n    var to = {};\r\n    seen.push(from);\r\n    for (var _i = 0, _a = Object.keys(from); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        var value = from[key];\r\n        if (typeof value === \"function\") {\r\n            continue;\r\n        }\r\n        if (!value || typeof value !== \"object\") {\r\n            to[key] = value;\r\n            continue;\r\n        }\r\n        if (seen.indexOf(from[key]) === -1) {\r\n            to[key] = destroyCircular(from[key], seen.slice(0));\r\n            continue;\r\n        }\r\n        to[key] = \"[Circular]\";\r\n    }\r\n    if (typeof from.name === \"string\") {\r\n        to.name = from.name;\r\n    }\r\n    if (typeof from.message === \"string\") {\r\n        to.message = from.message;\r\n    }\r\n    if (typeof from.stack === \"string\") {\r\n        to.stack = from.stack;\r\n    }\r\n    return to;\r\n}\n\nvar AccountNameRequiredError = createCustomErrorClass(\"AccountNameRequired\");\r\nvar AccountNotSupported = createCustomErrorClass(\"AccountNotSupported\");\r\nvar AmountRequired = createCustomErrorClass(\"AmountRequired\");\r\nvar BluetoothRequired = createCustomErrorClass(\"BluetoothRequired\");\r\nvar BtcUnmatchedApp = createCustomErrorClass(\"BtcUnmatchedApp\");\r\nvar CantOpenDevice = createCustomErrorClass(\"CantOpenDevice\");\r\nvar CashAddrNotSupported = createCustomErrorClass(\"CashAddrNotSupported\");\r\nvar CurrencyNotSupported = createCustomErrorClass(\"CurrencyNotSupported\");\r\nvar DeviceAppVerifyNotSupported = createCustomErrorClass(\"DeviceAppVerifyNotSupported\");\r\nvar DeviceGenuineSocketEarlyClose = createCustomErrorClass(\"DeviceGenuineSocketEarlyClose\");\r\nvar DeviceNotGenuineError = createCustomErrorClass(\"DeviceNotGenuine\");\r\nvar DeviceOnDashboardExpected = createCustomErrorClass(\"DeviceOnDashboardExpected\");\r\nvar DeviceOnDashboardUnexpected = createCustomErrorClass(\"DeviceOnDashboardUnexpected\");\r\nvar DeviceInOSUExpected = createCustomErrorClass(\"DeviceInOSUExpected\");\r\nvar DeviceHalted = createCustomErrorClass(\"DeviceHalted\");\r\nvar DeviceNameInvalid = createCustomErrorClass(\"DeviceNameInvalid\");\r\nvar DeviceSocketFail = createCustomErrorClass(\"DeviceSocketFail\");\r\nvar DeviceSocketNoBulkStatus = createCustomErrorClass(\"DeviceSocketNoBulkStatus\");\r\nvar DisconnectedDevice = createCustomErrorClass(\"DisconnectedDevice\");\r\nvar DisconnectedDeviceDuringOperation = createCustomErrorClass(\"DisconnectedDeviceDuringOperation\");\r\nvar EnpointConfigError = createCustomErrorClass(\"EnpointConfig\");\r\nvar EthAppPleaseEnableContractData = createCustomErrorClass(\"EthAppPleaseEnableContractData\");\r\nvar FeeEstimationFailed = createCustomErrorClass(\"FeeEstimationFailed\");\r\nvar FirmwareNotRecognized = createCustomErrorClass(\"FirmwareNotRecognized\");\r\nvar HardResetFail = createCustomErrorClass(\"HardResetFail\");\r\nvar InvalidXRPTag = createCustomErrorClass(\"InvalidXRPTag\");\r\nvar InvalidAddress = createCustomErrorClass(\"InvalidAddress\");\r\nvar InvalidAddressBecauseDestinationIsAlsoSource = createCustomErrorClass(\"InvalidAddressBecauseDestinationIsAlsoSource\");\r\nvar LatestMCUInstalledError = createCustomErrorClass(\"LatestMCUInstalledError\");\r\nvar UnknownMCU = createCustomErrorClass(\"UnknownMCU\");\r\nvar LedgerAPIError = createCustomErrorClass(\"LedgerAPIError\");\r\nvar LedgerAPIErrorWithMessage = createCustomErrorClass(\"LedgerAPIErrorWithMessage\");\r\nvar LedgerAPINotAvailable = createCustomErrorClass(\"LedgerAPINotAvailable\");\r\nvar ManagerAppAlreadyInstalledError = createCustomErrorClass(\"ManagerAppAlreadyInstalled\");\r\nvar ManagerAppRelyOnBTCError = createCustomErrorClass(\"ManagerAppRelyOnBTC\");\r\nvar ManagerAppDepInstallRequired = createCustomErrorClass(\"ManagerAppDepInstallRequired\");\r\nvar ManagerAppDepUninstallRequired = createCustomErrorClass(\"ManagerAppDepUninstallRequired\");\r\nvar ManagerDeviceLockedError = createCustomErrorClass(\"ManagerDeviceLocked\");\r\nvar ManagerFirmwareNotEnoughSpaceError = createCustomErrorClass(\"ManagerFirmwareNotEnoughSpace\");\r\nvar ManagerNotEnoughSpaceError = createCustomErrorClass(\"ManagerNotEnoughSpace\");\r\nvar ManagerUninstallBTCDep = createCustomErrorClass(\"ManagerUninstallBTCDep\");\r\nvar NetworkDown = createCustomErrorClass(\"NetworkDown\");\r\nvar NoAddressesFound = createCustomErrorClass(\"NoAddressesFound\");\r\nvar NotEnoughBalance = createCustomErrorClass(\"NotEnoughBalance\");\r\nvar NotEnoughBalanceToDelegate = createCustomErrorClass(\"NotEnoughBalanceToDelegate\");\r\nvar NotEnoughBalanceInParentAccount = createCustomErrorClass(\"NotEnoughBalanceInParentAccount\");\r\nvar NotEnoughSpendableBalance = createCustomErrorClass(\"NotEnoughSpendableBalance\");\r\nvar NotEnoughBalanceBecauseDestinationNotCreated = createCustomErrorClass(\"NotEnoughBalanceBecauseDestinationNotCreated\");\r\nvar NoAccessToCamera = createCustomErrorClass(\"NoAccessToCamera\");\r\nvar NotEnoughGas = createCustomErrorClass(\"NotEnoughGas\");\r\nvar NotSupportedLegacyAddress = createCustomErrorClass(\"NotSupportedLegacyAddress\");\r\nvar GasLessThanEstimate = createCustomErrorClass(\"GasLessThanEstimate\");\r\nvar PasswordsDontMatchError = createCustomErrorClass(\"PasswordsDontMatch\");\r\nvar PasswordIncorrectError = createCustomErrorClass(\"PasswordIncorrect\");\r\nvar RecommendSubAccountsToEmpty = createCustomErrorClass(\"RecommendSubAccountsToEmpty\");\r\nvar RecommendUndelegation = createCustomErrorClass(\"RecommendUndelegation\");\r\nvar TimeoutTagged = createCustomErrorClass(\"TimeoutTagged\");\r\nvar UnexpectedBootloader = createCustomErrorClass(\"UnexpectedBootloader\");\r\nvar MCUNotGenuineToDashboard = createCustomErrorClass(\"MCUNotGenuineToDashboard\");\r\nvar RecipientRequired = createCustomErrorClass(\"RecipientRequired\");\r\nvar UnavailableTezosOriginatedAccountReceive = createCustomErrorClass(\"UnavailableTezosOriginatedAccountReceive\");\r\nvar UnavailableTezosOriginatedAccountSend = createCustomErrorClass(\"UnavailableTezosOriginatedAccountSend\");\r\nvar UpdateFetchFileFail = createCustomErrorClass(\"UpdateFetchFileFail\");\r\nvar UpdateIncorrectHash = createCustomErrorClass(\"UpdateIncorrectHash\");\r\nvar UpdateIncorrectSig = createCustomErrorClass(\"UpdateIncorrectSig\");\r\nvar UpdateYourApp = createCustomErrorClass(\"UpdateYourApp\");\r\nvar UserRefusedDeviceNameChange = createCustomErrorClass(\"UserRefusedDeviceNameChange\");\r\nvar UserRefusedAddress = createCustomErrorClass(\"UserRefusedAddress\");\r\nvar UserRefusedFirmwareUpdate = createCustomErrorClass(\"UserRefusedFirmwareUpdate\");\r\nvar UserRefusedAllowManager = createCustomErrorClass(\"UserRefusedAllowManager\");\r\nvar UserRefusedOnDevice = createCustomErrorClass(\"UserRefusedOnDevice\"); // TODO rename because it's just for transaction refusal\r\nvar TransportOpenUserCancelled = createCustomErrorClass(\"TransportOpenUserCancelled\");\r\nvar TransportInterfaceNotAvailable = createCustomErrorClass(\"TransportInterfaceNotAvailable\");\r\nvar TransportRaceCondition = createCustomErrorClass(\"TransportRaceCondition\");\r\nvar TransportWebUSBGestureRequired = createCustomErrorClass(\"TransportWebUSBGestureRequired\");\r\nvar DeviceShouldStayInApp = createCustomErrorClass(\"DeviceShouldStayInApp\");\r\nvar WebsocketConnectionError = createCustomErrorClass(\"WebsocketConnectionError\");\r\nvar WebsocketConnectionFailed = createCustomErrorClass(\"WebsocketConnectionFailed\");\r\nvar WrongDeviceForAccount = createCustomErrorClass(\"WrongDeviceForAccount\");\r\nvar WrongAppForCurrency = createCustomErrorClass(\"WrongAppForCurrency\");\r\nvar ETHAddressNonEIP = createCustomErrorClass(\"ETHAddressNonEIP\");\r\nvar CantScanQRCode = createCustomErrorClass(\"CantScanQRCode\");\r\nvar FeeNotLoaded = createCustomErrorClass(\"FeeNotLoaded\");\r\nvar FeeRequired = createCustomErrorClass(\"FeeRequired\");\r\nvar FeeTooHigh = createCustomErrorClass(\"FeeTooHigh\");\r\nvar SyncError = createCustomErrorClass(\"SyncError\");\r\nvar PairingFailed = createCustomErrorClass(\"PairingFailed\");\r\nvar GenuineCheckFailed = createCustomErrorClass(\"GenuineCheckFailed\");\r\nvar LedgerAPI4xx = createCustomErrorClass(\"LedgerAPI4xx\");\r\nvar LedgerAPI5xx = createCustomErrorClass(\"LedgerAPI5xx\");\r\nvar FirmwareOrAppUpdateRequired = createCustomErrorClass(\"FirmwareOrAppUpdateRequired\");\r\n// db stuff, no need to translate\r\nvar NoDBPathGiven = createCustomErrorClass(\"NoDBPathGiven\");\r\nvar DBWrongPassword = createCustomErrorClass(\"DBWrongPassword\");\r\nvar DBNotReset = createCustomErrorClass(\"DBNotReset\");\r\n/**\r\n * TransportError is used for any generic transport errors.\r\n * e.g. Error thrown when data received by exchanges are incorrect or if exchanged failed to communicate with the device for various reason.\r\n */\r\nfunction TransportError(message, id) {\r\n    this.name = \"TransportError\";\r\n    this.message = message;\r\n    this.stack = new Error().stack;\r\n    this.id = id;\r\n}\r\nTransportError.prototype = new Error();\r\naddCustomErrorDeserializer(\"TransportError\", function (e) { return new TransportError(e.message, e.id); });\r\nvar StatusCodes = {\r\n    PIN_REMAINING_ATTEMPTS: 0x63c0,\r\n    INCORRECT_LENGTH: 0x6700,\r\n    MISSING_CRITICAL_PARAMETER: 0x6800,\r\n    COMMAND_INCOMPATIBLE_FILE_STRUCTURE: 0x6981,\r\n    SECURITY_STATUS_NOT_SATISFIED: 0x6982,\r\n    CONDITIONS_OF_USE_NOT_SATISFIED: 0x6985,\r\n    INCORRECT_DATA: 0x6a80,\r\n    NOT_ENOUGH_MEMORY_SPACE: 0x6a84,\r\n    REFERENCED_DATA_NOT_FOUND: 0x6a88,\r\n    FILE_ALREADY_EXISTS: 0x6a89,\r\n    INCORRECT_P1_P2: 0x6b00,\r\n    INS_NOT_SUPPORTED: 0x6d00,\r\n    CLA_NOT_SUPPORTED: 0x6e00,\r\n    TECHNICAL_PROBLEM: 0x6f00,\r\n    OK: 0x9000,\r\n    MEMORY_PROBLEM: 0x9240,\r\n    NO_EF_SELECTED: 0x9400,\r\n    INVALID_OFFSET: 0x9402,\r\n    FILE_NOT_FOUND: 0x9404,\r\n    INCONSISTENT_FILE: 0x9408,\r\n    ALGORITHM_NOT_SUPPORTED: 0x9484,\r\n    INVALID_KCV: 0x9485,\r\n    CODE_NOT_INITIALIZED: 0x9802,\r\n    ACCESS_CONDITION_NOT_FULFILLED: 0x9804,\r\n    CONTRADICTION_SECRET_CODE_STATUS: 0x9808,\r\n    CONTRADICTION_INVALIDATION: 0x9810,\r\n    CODE_BLOCKED: 0x9840,\r\n    MAX_VALUE_REACHED: 0x9850,\r\n    GP_AUTH_FAILED: 0x6300,\r\n    LICENSING: 0x6f42,\r\n    HALTED: 0x6faa,\r\n};\r\nfunction getAltStatusMessage(code) {\r\n    switch (code) {\r\n        // improve text of most common errors\r\n        case 0x6700:\r\n            return \"Incorrect length\";\r\n        case 0x6800:\r\n            return \"Missing critical parameter\";\r\n        case 0x6982:\r\n            return \"Security not satisfied (dongle locked or have invalid access rights)\";\r\n        case 0x6985:\r\n            return \"Condition of use not satisfied (denied by the user?)\";\r\n        case 0x6a80:\r\n            return \"Invalid data received\";\r\n        case 0x6b00:\r\n            return \"Invalid parameter received\";\r\n    }\r\n    if (0x6f00 <= code && code <= 0x6fff) {\r\n        return \"Internal error, please report\";\r\n    }\r\n}\r\n/**\r\n * Error thrown when a device returned a non success status.\r\n * the error.statusCode is one of the `StatusCodes` exported by this library.\r\n */\r\nfunction TransportStatusError(statusCode) {\r\n    this.name = \"TransportStatusError\";\r\n    var statusText = Object.keys(StatusCodes).find(function (k) { return StatusCodes[k] === statusCode; }) ||\r\n        \"UNKNOWN_ERROR\";\r\n    var smsg = getAltStatusMessage(statusCode) || statusText;\r\n    var statusCodeStr = statusCode.toString(16);\r\n    this.message = \"Ledger device: \" + smsg + \" (0x\" + statusCodeStr + \")\";\r\n    this.stack = new Error().stack;\r\n    this.statusCode = statusCode;\r\n    this.statusText = statusText;\r\n}\r\nTransportStatusError.prototype = new Error();\r\naddCustomErrorDeserializer(\"TransportStatusError\", function (e) { return new TransportStatusError(e.statusCode); });\n\nexport { AccountNameRequiredError, AccountNotSupported, AmountRequired, BluetoothRequired, BtcUnmatchedApp, CantOpenDevice, CantScanQRCode, CashAddrNotSupported, CurrencyNotSupported, DBNotReset, DBWrongPassword, DeviceAppVerifyNotSupported, DeviceGenuineSocketEarlyClose, DeviceHalted, DeviceInOSUExpected, DeviceNameInvalid, DeviceNotGenuineError, DeviceOnDashboardExpected, DeviceOnDashboardUnexpected, DeviceShouldStayInApp, DeviceSocketFail, DeviceSocketNoBulkStatus, DisconnectedDevice, DisconnectedDeviceDuringOperation, ETHAddressNonEIP, EnpointConfigError, EthAppPleaseEnableContractData, FeeEstimationFailed, FeeNotLoaded, FeeRequired, FeeTooHigh, FirmwareNotRecognized, FirmwareOrAppUpdateRequired, GasLessThanEstimate, GenuineCheckFailed, HardResetFail, InvalidAddress, InvalidAddressBecauseDestinationIsAlsoSource, InvalidXRPTag, LatestMCUInstalledError, LedgerAPI4xx, LedgerAPI5xx, LedgerAPIError, LedgerAPIErrorWithMessage, LedgerAPINotAvailable, MCUNotGenuineToDashboard, ManagerAppAlreadyInstalledError, ManagerAppDepInstallRequired, ManagerAppDepUninstallRequired, ManagerAppRelyOnBTCError, ManagerDeviceLockedError, ManagerFirmwareNotEnoughSpaceError, ManagerNotEnoughSpaceError, ManagerUninstallBTCDep, NetworkDown, NoAccessToCamera, NoAddressesFound, NoDBPathGiven, NotEnoughBalance, NotEnoughBalanceBecauseDestinationNotCreated, NotEnoughBalanceInParentAccount, NotEnoughBalanceToDelegate, NotEnoughGas, NotEnoughSpendableBalance, NotSupportedLegacyAddress, PairingFailed, PasswordIncorrectError, PasswordsDontMatchError, RecipientRequired, RecommendSubAccountsToEmpty, RecommendUndelegation, StatusCodes, SyncError, TimeoutTagged, TransportError, TransportInterfaceNotAvailable, TransportOpenUserCancelled, TransportRaceCondition, TransportStatusError, TransportWebUSBGestureRequired, UnavailableTezosOriginatedAccountReceive, UnavailableTezosOriginatedAccountSend, UnexpectedBootloader, UnknownMCU, UpdateFetchFileFail, UpdateIncorrectHash, UpdateIncorrectSig, UpdateYourApp, UserRefusedAddress, UserRefusedAllowManager, UserRefusedDeviceNameChange, UserRefusedFirmwareUpdate, UserRefusedOnDevice, WebsocketConnectionError, WebsocketConnectionFailed, WrongAppForCurrency, WrongDeviceForAccount, addCustomErrorDeserializer, createCustomErrorClass, deserializeError, getAltStatusMessage, serializeError };\n","//@flow\n\nimport EventEmitter from \"events\";\nimport type { DeviceModel } from \"@ledgerhq/devices\";\nimport {\n  TransportRaceCondition,\n  TransportError,\n  StatusCodes,\n  getAltStatusMessage,\n  TransportStatusError,\n} from \"@ledgerhq/errors\";\n\nexport {\n  TransportError,\n  TransportStatusError,\n  StatusCodes,\n  getAltStatusMessage,\n};\n\n/**\n */\nexport type Subscription = { unsubscribe: () => void };\n\n/**\n */\nexport type Device = Object;\n\n/**\n * type: add or remove event\n * descriptor: a parameter that can be passed to open(descriptor)\n * deviceModel: device info on the model (is it a nano s, nano x, ...)\n * device: transport specific device info\n */\nexport type DescriptorEvent<Descriptor> = {\n  type: \"add\" | \"remove\",\n  descriptor: Descriptor,\n  deviceModel?: ?DeviceModel,\n  device?: Device,\n};\n/**\n */\nexport type Observer<Ev> = $ReadOnly<{\n  next: (event: Ev) => mixed,\n  error: (e: any) => mixed,\n  complete: () => mixed,\n}>;\n\n/**\n * Transport defines the generic interface to share between node/u2f impl\n * A **Descriptor** is a parametric type that is up to be determined for the implementation.\n * it can be for instance an ID, an file path, a URL,...\n */\nexport default class Transport<Descriptor> {\n  exchangeTimeout: number = 30000;\n  unresponsiveTimeout: number = 15000;\n  deviceModel: ?DeviceModel = null;\n\n  /**\n   * Statically check if a transport is supported on the user's platform/browser.\n   */\n  static +isSupported: () => Promise<boolean>;\n\n  /**\n   * List once all available descriptors. For a better granularity, checkout `listen()`.\n   * @return a promise of descriptors\n   * @example\n   * TransportFoo.list().then(descriptors => ...)\n   */\n  static +list: () => Promise<Array<Descriptor>>;\n\n  /**\n   * Listen all device events for a given Transport. The method takes an Obverver of DescriptorEvent and returns a Subscription (according to Observable paradigm https://github.com/tc39/proposal-observable )\n   * a DescriptorEvent is a `{ descriptor, type }` object. type can be `\"add\"` or `\"remove\"` and descriptor is a value you can pass to `open(descriptor)`.\n   * each listen() call will first emit all potential device already connected and then will emit events can come over times,\n   * for instance if you plug a USB device after listen() or a bluetooth device become discoverable.\n   * @param observer is an object with a next, error and complete function (compatible with observer pattern)\n   * @return a Subscription object on which you can `.unsubscribe()` to stop listening descriptors.\n   * @example\nconst sub = TransportFoo.listen({\n  next: e => {\n    if (e.type===\"add\") {\n      sub.unsubscribe();\n      const transport = await TransportFoo.open(e.descriptor);\n      ...\n    }\n  },\n  error: error => {},\n  complete: () => {}\n})\n   */\n  static +listen: (\n    observer: Observer<DescriptorEvent<Descriptor>>\n  ) => Subscription;\n\n  /**\n   * attempt to create a Transport instance with potentially a descriptor.\n   * @param descriptor: the descriptor to open the transport with.\n   * @param timeout: an optional timeout\n   * @return a Promise of Transport instance\n   * @example\nTransportFoo.open(descriptor).then(transport => ...)\n   */\n  static +open: (\n    descriptor: Descriptor,\n    timeout?: number\n  ) => Promise<Transport<Descriptor>>;\n\n  /**\n   * low level api to communicate with the device\n   * This method is for implementations to implement but should not be directly called.\n   * Instead, the recommanded way is to use send() method\n   * @param apdu the data to send\n   * @return a Promise of response data\n   */\n  exchange(_apdu: Buffer): Promise<Buffer> {\n    throw new Error(\"exchange not implemented\");\n  }\n\n  /**\n   * set the \"scramble key\" for the next exchanges with the device.\n   * Each App can have a different scramble key and they internally will set it at instanciation.\n   * @param key the scramble key\n   */\n  setScrambleKey(_key: string) {}\n\n  /**\n   * close the exchange with the device.\n   * @return a Promise that ends when the transport is closed.\n   */\n  close(): Promise<void> {\n    return Promise.resolve();\n  }\n\n  _events = new EventEmitter();\n\n  /**\n   * Listen to an event on an instance of transport.\n   * Transport implementation can have specific events. Here is the common events:\n   * * `\"disconnect\"` : triggered if Transport is disconnected\n   */\n  on(eventName: string, cb: Function) {\n    this._events.on(eventName, cb);\n  }\n\n  /**\n   * Stop listening to an event on an instance of transport.\n   */\n  off(eventName: string, cb: Function) {\n    this._events.removeListener(eventName, cb);\n  }\n\n  emit(event: string, ...args: *) {\n    this._events.emit(event, ...args);\n  }\n\n  /**\n   * Enable or not logs of the binary exchange\n   */\n  setDebugMode() {\n    console.warn(\n      \"setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.\"\n    );\n  }\n\n  /**\n   * Set a timeout (in milliseconds) for the exchange call. Only some transport might implement it. (e.g. U2F)\n   */\n  setExchangeTimeout(exchangeTimeout: number) {\n    this.exchangeTimeout = exchangeTimeout;\n  }\n\n  /**\n   * Define the delay before emitting \"unresponsive\" on an exchange that does not respond\n   */\n  setExchangeUnresponsiveTimeout(unresponsiveTimeout: number) {\n    this.unresponsiveTimeout = unresponsiveTimeout;\n  }\n\n  /**\n   * wrapper on top of exchange to simplify work of the implementation.\n   * @param cla\n   * @param ins\n   * @param p1\n   * @param p2\n   * @param data\n   * @param statusList is a list of accepted status code (shorts). [0x9000] by default\n   * @return a Promise of response buffer\n   */\n  send = async (\n    cla: number,\n    ins: number,\n    p1: number,\n    p2: number,\n    data: Buffer = Buffer.alloc(0),\n    statusList: Array<number> = [StatusCodes.OK]\n  ): Promise<Buffer> => {\n    if (data.length >= 256) {\n      throw new TransportError(\n        \"data.length exceed 256 bytes limit. Got: \" + data.length,\n        \"DataLengthTooBig\"\n      );\n    }\n    const response = await this.exchange(\n      Buffer.concat([\n        Buffer.from([cla, ins, p1, p2]),\n        Buffer.from([data.length]),\n        data,\n      ])\n    );\n    const sw = response.readUInt16BE(response.length - 2);\n    if (!statusList.some((s) => s === sw)) {\n      throw new TransportStatusError(sw);\n    }\n    return response;\n  };\n\n  /**\n   * create() allows to open the first descriptor available or\n   * throw if there is none or if timeout is reached.\n   * This is a light helper, alternative to using listen() and open() (that you may need for any more advanced usecase)\n   * @example\nTransportFoo.create().then(transport => ...)\n   */\n  static create(\n    openTimeout?: number = 3000,\n    listenTimeout?: number\n  ): Promise<Transport<Descriptor>> {\n    return new Promise((resolve, reject) => {\n      let found = false;\n      const sub = this.listen({\n        next: (e) => {\n          found = true;\n          if (sub) sub.unsubscribe();\n          if (listenTimeoutId) clearTimeout(listenTimeoutId);\n          this.open(e.descriptor, openTimeout).then(resolve, reject);\n        },\n        error: (e) => {\n          if (listenTimeoutId) clearTimeout(listenTimeoutId);\n          reject(e);\n        },\n        complete: () => {\n          if (listenTimeoutId) clearTimeout(listenTimeoutId);\n          if (!found) {\n            reject(\n              new TransportError(\n                this.ErrorMessage_NoDeviceFound,\n                \"NoDeviceFound\"\n              )\n            );\n          }\n        },\n      });\n      const listenTimeoutId = listenTimeout\n        ? setTimeout(() => {\n            sub.unsubscribe();\n            reject(\n              new TransportError(\n                this.ErrorMessage_ListenTimeout,\n                \"ListenTimeout\"\n              )\n            );\n          }, listenTimeout)\n        : null;\n    });\n  }\n\n  exchangeBusyPromise: ?Promise<void>;\n\n  // $FlowFixMe\n  exchangeAtomicImpl = async (f) => {\n    if (this.exchangeBusyPromise) {\n      throw new TransportRaceCondition(\n        \"An action was already pending on the Ledger device. Please deny or reconnect.\"\n      );\n    }\n    let resolveBusy;\n    const busyPromise = new Promise((r) => {\n      resolveBusy = r;\n    });\n    this.exchangeBusyPromise = busyPromise;\n    let unresponsiveReached = false;\n    const timeout = setTimeout(() => {\n      unresponsiveReached = true;\n      this.emit(\"unresponsive\");\n    }, this.unresponsiveTimeout);\n    try {\n      const res = await f();\n      if (unresponsiveReached) {\n        this.emit(\"responsive\");\n      }\n      return res;\n    } finally {\n      clearTimeout(timeout);\n      if (resolveBusy) resolveBusy();\n      this.exchangeBusyPromise = null;\n    }\n  };\n\n  decorateAppAPIMethods(\n    self: Object,\n    methods: Array<string>,\n    scrambleKey: string\n  ) {\n    for (let methodName of methods) {\n      self[methodName] = this.decorateAppAPIMethod(\n        methodName,\n        self[methodName],\n        self,\n        scrambleKey\n      );\n    }\n  }\n\n  _appAPIlock = null;\n  decorateAppAPIMethod<R, A: any[]>(\n    methodName: string,\n    f: (...args: A) => Promise<R>,\n    ctx: *,\n    scrambleKey: string\n  ): (...args: A) => Promise<R> {\n    return async (...args) => {\n      const { _appAPIlock } = this;\n      if (_appAPIlock) {\n        return Promise.reject(\n          new TransportError(\n            \"Ledger Device is busy (lock \" + _appAPIlock + \")\",\n            \"TransportLocked\"\n          )\n        );\n      }\n      try {\n        this._appAPIlock = methodName;\n        this.setScrambleKey(scrambleKey);\n        return await f.apply(ctx, args);\n      } finally {\n        this._appAPIlock = null;\n      }\n    };\n  }\n\n  static ErrorMessage_ListenTimeout = \"No Ledger device found (timeout)\";\n  static ErrorMessage_NoDeviceFound = \"No Ledger device found\";\n}\n","// @flow\n\n/**\n * A Log object\n */\nexport type Log = {\n  type: string,\n  message?: string,\n  data?: any,\n  id: string, // unique amount all logs\n  date: Date, // date of the log\n};\n\nexport type Unsubscribe = () => void;\n\nlet id = 0;\nconst subscribers = [];\n\n/**\n * log something\n * @param type a namespaced identifier of the log (it is not a level like \"debug\", \"error\" but more like \"apdu-in\", \"apdu-out\", etc...)\n * @param message a clear message of the log associated to the type\n */\nexport const log = (type: string, message?: string, data?: any) => {\n  const obj: Log = { type, id: String(++id), date: new Date() };\n  if (message) obj.message = message;\n  if (data) obj.data = data;\n  dispatch(obj);\n};\n\n/**\n * listen to logs.\n * @param cb that is called for each future log() with the Log object\n * @return a function that can be called to unsubscribe the listener\n */\nexport const listen = (cb: (Log) => void): Unsubscribe => {\n  subscribers.push(cb);\n  return () => {\n    const i = subscribers.indexOf(cb);\n    if (i !== -1) {\n      // equivalent of subscribers.splice(i, 1) // https://twitter.com/Rich_Harris/status/1125850391155965952\n      subscribers[i] = subscribers[subscribers.length - 1];\n      subscribers.pop();\n    }\n  };\n};\n\nfunction dispatch(log: Log) {\n  for (let i = 0; i < subscribers.length; i++) {\n    try {\n      subscribers[i](log);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n}\n\n// for debug purpose\nif (typeof window !== \"undefined\") {\n  window.__ledgerLogsListen = listen;\n}\n","//@flow\n\nimport { sign, isSupported } from \"u2f-api\";\nimport Transport from \"@ledgerhq/hw-transport\";\nimport { log } from \"@ledgerhq/logs\";\nimport { TransportError } from \"@ledgerhq/errors\";\n\nfunction wrapU2FTransportError(originalError, message, id) {\n  const err = new TransportError(message, id);\n  // $FlowFixMe\n  err.originalError = originalError;\n  return err;\n}\n\nfunction wrapApdu(apdu: Buffer, key: Buffer) {\n  const result = Buffer.alloc(apdu.length);\n  for (let i = 0; i < apdu.length; i++) {\n    result[i] = apdu[i] ^ key[i % key.length];\n  }\n  return result;\n}\n\n// Convert from normal to web-safe, strip trailing \"=\"s\nconst webSafe64 = (base64: string) =>\n  base64.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n\n// Convert from web-safe to normal, add trailing \"=\"s\nconst normal64 = (base64: string) =>\n  base64.replace(/-/g, \"+\").replace(/_/g, \"/\") +\n  \"==\".substring(0, (3 * base64.length) % 4);\n\nfunction attemptExchange(\n  apdu: Buffer,\n  timeoutMillis: number,\n  scrambleKey: Buffer,\n  unwrap: boolean\n): Promise<Buffer> {\n  const keyHandle = wrapApdu(apdu, scrambleKey);\n  const challenge = Buffer.from(\n    \"0000000000000000000000000000000000000000000000000000000000000000\",\n    \"hex\"\n  );\n  const signRequest = {\n    version: \"U2F_V2\",\n    keyHandle: webSafe64(keyHandle.toString(\"base64\")),\n    challenge: webSafe64(challenge.toString(\"base64\")),\n    appId: location.origin,\n  };\n  log(\"apdu\", \"=> \" + apdu.toString(\"hex\"));\n  return sign(signRequest, timeoutMillis / 1000).then((response) => {\n    const { signatureData } = response;\n    if (typeof signatureData === \"string\") {\n      const data = Buffer.from(normal64(signatureData), \"base64\");\n      let result;\n      if (!unwrap) {\n        result = data;\n      } else {\n        result = data.slice(5);\n      }\n      log(\"apdu\", \"<= \" + result.toString(\"hex\"));\n      return result;\n    } else {\n      throw response;\n    }\n  });\n}\n\nlet transportInstances = [];\n\nfunction emitDisconnect() {\n  transportInstances.forEach((t) => t.emit(\"disconnect\"));\n  transportInstances = [];\n}\n\nfunction isTimeoutU2FError(u2fError) {\n  return u2fError.metaData.code === 5;\n}\n\n/**\n * U2F web Transport implementation\n * @example\n * import TransportU2F from \"@ledgerhq/hw-transport-u2f\";\n * ...\n * TransportU2F.create().then(transport => ...)\n */\nexport default class TransportU2F extends Transport<null> {\n  static isSupported = isSupported;\n\n  /*\n   */\n  static list = (): * =>\n    // this transport is not discoverable but we are going to guess if it is here with isSupported()\n    isSupported().then((supported) => (supported ? [null] : []));\n\n  /*\n   */\n  static listen = (observer: *) => {\n    let unsubscribed = false;\n    isSupported().then((supported) => {\n      if (unsubscribed) return;\n      if (supported) {\n        observer.next({ type: \"add\", descriptor: null });\n        observer.complete();\n      } else {\n        observer.error(\n          new TransportError(\n            \"U2F browser support is needed for Ledger. \" +\n              \"Please use Chrome, Opera or Firefox with a U2F extension. \" +\n              \"Also make sure you're on an HTTPS connection\",\n            \"U2FNotSupported\"\n          )\n        );\n      }\n    });\n    return {\n      unsubscribe: () => {\n        unsubscribed = true;\n      },\n    };\n  };\n\n  scrambleKey: Buffer;\n\n  unwrap: boolean = true;\n\n  /**\n   * static function to create a new Transport from a connected Ledger device discoverable via U2F (browser support)\n   */\n  static async open(_: *, _openTimeout?: number = 5000): Promise<TransportU2F> {\n    return new TransportU2F();\n  }\n\n  constructor() {\n    super();\n    transportInstances.push(this);\n  }\n\n  /**\n   * Exchange with the device using APDU protocol.\n   * @param apdu\n   * @returns a promise of apdu response\n   */\n  async exchange(apdu: Buffer): Promise<Buffer> {\n    try {\n      return await attemptExchange(\n        apdu,\n        this.exchangeTimeout,\n        this.scrambleKey,\n        this.unwrap\n      );\n    } catch (e) {\n      const isU2FError = typeof e.metaData === \"object\";\n      if (isU2FError) {\n        if (isTimeoutU2FError(e)) {\n          emitDisconnect();\n        }\n        // the wrapping make error more usable and \"printable\" to the end user.\n        throw wrapU2FTransportError(\n          e,\n          \"Failed to sign with Ledger device: U2F \" + e.metaData.type,\n          \"U2F_\" + e.metaData.code\n        );\n      } else {\n        throw e;\n      }\n    }\n  }\n\n  /**\n   */\n  setScrambleKey(scrambleKey: string) {\n    this.scrambleKey = Buffer.from(scrambleKey, \"ascii\");\n  }\n\n  /**\n   */\n  setUnwrap(unwrap: boolean) {\n    this.unwrap = unwrap;\n  }\n\n  close(): Promise<void> {\n    // u2f have no way to clean things up\n    return Promise.resolve();\n  }\n}\n"],"names":["u2fApi","require$$0","global","eventsModule","Transport","exchangeTimeout","unresponsiveTimeout","deviceModel","_events","EventEmitter","send","cla","ins","p1","p2","data","Buffer","alloc","statusList","StatusCodes","OK","length","TransportError","response","exchange","concat","from","sw","readUInt16BE","some","s","TransportStatusError","exchangeBusyPromise","exchangeAtomicImpl","f","TransportRaceCondition","resolveBusy","busyPromise","Promise","r","unresponsiveReached","timeout","setTimeout","emit","res","clearTimeout","_appAPIlock","_apdu","Error","setScrambleKey","_key","close","resolve","on","eventName","cb","off","removeListener","event","args","setDebugMode","console","warn","setExchangeTimeout","setExchangeUnresponsiveTimeout","create","openTimeout","listenTimeout","reject","found","sub","listen","next","e","unsubscribe","listenTimeoutId","open","descriptor","then","error","complete","ErrorMessage_NoDeviceFound","ErrorMessage_ListenTimeout","decorateAppAPIMethods","self","methods","scrambleKey","methodName","decorateAppAPIMethod","ctx","apply","isSupported","list","id","subscribers","log","type","message","obj","String","date","Date","dispatch","push","i","indexOf","pop","window","__ledgerLogsListen","wrapU2FTransportError","originalError","err","wrapApdu","apdu","key","result","webSafe64","base64","replace","normal64","substring","attemptExchange","timeoutMillis","unwrap","keyHandle","challenge","signRequest","version","toString","appId","location","origin","sign","signatureData","slice","transportInstances","emitDisconnect","forEach","t","isTimeoutU2FError","u2fError","metaData","code","TransportU2F","_","_openTimeout","constructor","isU2FError","setUnwrap","supported","observer","unsubscribed"],"mappings":";;;AAYA;AACA;AACA;AACA,IAAI,GAAG,GAAG,GAAG,IAAI,EAAE,CAAC;AACpB;IACA,YAAc,GAAG,GAAG,CAAC;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,CAAC,YAAY,GAAG,kCAAkC,CAAC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,CAAC,YAAY,GAAG;AACnB,EAAE,sBAAsB,EAAE,sBAAsB;AAChD,EAAE,kBAAkB,EAAE,kBAAkB;AACxC,EAAE,uBAAuB,EAAE,uBAAuB;AAClD,EAAE,mBAAmB,EAAE,mBAAmB;AAC1C,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,CAAC,UAAU,GAAG;AACjB,EAAE,IAAI,EAAE,CAAC;AACT,EAAE,aAAa,EAAE,CAAC;AAClB,EAAE,aAAa,EAAE,CAAC;AAClB,EAAE,2BAA2B,EAAE,CAAC;AAChC,EAAE,mBAAmB,EAAE,CAAC;AACxB,EAAE,SAAS,EAAE,CAAC;AACd,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,CAAC,OAAO,CAAC;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,CAAC,QAAQ,CAAC;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,CAAC,KAAK,CAAC;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,CAAC,WAAW,CAAC;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,CAAC,YAAY,CAAC;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,CAAC,eAAe,CAAC;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,CAAC,gBAAgB,CAAC;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,CAAC,UAAU,GAAG,WAAW;AAC5B,EAAE,IAAI,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,KAAK,CAAC,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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}