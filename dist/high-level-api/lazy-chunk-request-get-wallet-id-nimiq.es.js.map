{"version":3,"file":"lazy-chunk-request-get-wallet-id-nimiq.es.js","sources":["source-mapped://source-mapped/src/high-level-api/requests/nimiq/request-get-wallet-id-nimiq.ts"],"sourcesContent":["import RequestNimiq from './request-nimiq';\nimport { CoinAppConnection } from '../request';\nimport { RequestTypeNimiq } from '../../constants';\nimport { NimiqVersion } from '../../../lib/constants';\n\ntype Transport = import('@ledgerhq/hw-transport').default;\n\nexport default class RequestGetWalletIdNimiq extends RequestNimiq<NimiqVersion, string> {\n    public readonly type: RequestTypeNimiq.GET_WALLET_ID = RequestTypeNimiq.GET_WALLET_ID;\n\n    public constructor(nimiqVersion: NimiqVersion) {\n        // public constructor calling the parent protected constructor\n        super(nimiqVersion);\n    }\n\n    public async call(transport: Transport): Promise<string> {\n        if (!this._coinAppConnection || !this._coinAppConnection.walletId) {\n            this._coinAppConnection = await this.checkCoinAppConnection(transport);\n        }\n        return this._coinAppConnection.walletId!;\n    }\n\n    public canReuseCoinAppConnection(coinAppConnection: CoinAppConnection): boolean {\n        return super.canReuseCoinAppConnection(coinAppConnection) && !!coinAppConnection.walletId;\n    }\n\n    protected get _isWalletIdDerivationRequired() {\n        return true;\n    }\n}\n"],"names":[],"mappings":";;;;AAOqB,MAAA,uBAAwB,SAAQ,YAAkC,CAAA;AACnE,IAAA,IAAI,GAAmC,gBAAgB,CAAC,aAAa,CAAC;AAEtF,IAAA,WAAA,CAAmB,YAA0B,EAAA;;QAEzC,KAAK,CAAC,YAAY,CAAC,CAAC;KACvB;IAEM,MAAM,IAAI,CAAC,SAAoB,EAAA;QAClC,IAAI,CAAC,IAAI,CAAC,kBAAkB,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE;YAC/D,IAAI,CAAC,kBAAkB,GAAG,MAAM,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAC;AAC1E,SAAA;AACD,QAAA,OAAO,IAAI,CAAC,kBAAkB,CAAC,QAAS,CAAC;KAC5C;AAEM,IAAA,yBAAyB,CAAC,iBAAoC,EAAA;AACjE,QAAA,OAAO,KAAK,CAAC,yBAAyB,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,iBAAiB,CAAC,QAAQ,CAAC;KAC7F;AAED,IAAA,IAAc,6BAA6B,GAAA;AACvC,QAAA,OAAO,IAAI,CAAC;KACf;AACJ;;;;"}