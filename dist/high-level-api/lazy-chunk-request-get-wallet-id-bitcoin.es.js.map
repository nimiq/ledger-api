{"version":3,"file":"lazy-chunk-request-get-wallet-id-bitcoin.es.js","sources":["source-mapped://source-mapped/src/high-level-api/requests/bitcoin/request-get-wallet-id-bitcoin.ts"],"sourcesContent":["import RequestBitcoin from './request-bitcoin';\nimport { CoinAppConnection } from '../request';\nimport { Network, RequestTypeBitcoin } from '../../constants';\n\ntype Transport = import('@ledgerhq/hw-transport').default;\n\nexport default class RequestGetWalletIdBitcoin extends RequestBitcoin<string> {\n    public readonly type: RequestTypeBitcoin.GET_WALLET_ID = RequestTypeBitcoin.GET_WALLET_ID;\n    public readonly network: Exclude<Network, Network.DEVNET>;\n\n    constructor(network: Exclude<Network, Network.DEVNET>) {\n        super();\n        this.network = network;\n    }\n\n    public async call(transport: Transport): Promise<string> {\n        if (!this._coinAppConnection || !this._coinAppConnection.walletId) {\n            this._coinAppConnection = await this.checkCoinAppConnection(transport);\n        }\n        return this._coinAppConnection.walletId!;\n    }\n\n    public canReuseCoinAppConnection(coinAppConnection: CoinAppConnection): boolean {\n        return super.canReuseCoinAppConnection(coinAppConnection) && !!coinAppConnection.walletId;\n    }\n\n    protected get _isWalletIdDerivationRequired() {\n        return true;\n    }\n}\n"],"names":[],"mappings":";;;;AAMqB,MAAA,yBAA0B,SAAQ,cAAsB,CAAA;AACzD,IAAA,IAAI,GAAqC,kBAAkB,CAAC,aAAa,CAAC;AAC1E,IAAA,OAAO,CAAmC;AAE1D,IAAA,WAAA,CAAY,OAAyC,EAAA;AACjD,QAAA,KAAK,EAAE,CAAC;AACR,QAAA,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;KAC1B;IAEM,MAAM,IAAI,CAAC,SAAoB,EAAA;QAClC,IAAI,CAAC,IAAI,CAAC,kBAAkB,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE;YAC/D,IAAI,CAAC,kBAAkB,GAAG,MAAM,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAC;AAC1E,SAAA;AACD,QAAA,OAAO,IAAI,CAAC,kBAAkB,CAAC,QAAS,CAAC;KAC5C;AAEM,IAAA,yBAAyB,CAAC,iBAAoC,EAAA;AACjE,QAAA,OAAO,KAAK,CAAC,yBAAyB,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,iBAAiB,CAAC,QAAQ,CAAC;KAC7F;AAED,IAAA,IAAc,6BAA6B,GAAA;AACvC,QAAA,OAAO,IAAI,CAAC;KACf;AACJ;;;;"}